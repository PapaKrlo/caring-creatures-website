<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mint Page</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="mint-styles.css" />
    <script src="https://unpkg.com/@crossmint/client-sdk-vanilla-ui@0.1.0/lib/index.global.js"></script>
    
  </head>
  <body>
    <div class="container-mintpg row d-flex justify-content-center">     
      <section class="col-md-9 justify-content-center">
        <h1 class="text-center mt-5">CARING CREATURES</h1>
        <h3 class="text-center text-white">Family and friends mint</h3>
        <div class="row justify-content-center">
          <div class="col-lg-6">
            <div class="card bg-dark mt-3">
              <div class="progress mb-2" role="progressbar" aria-label="Basic example" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100">
                <div id="progress-supply" class="progress-bar " style="width: 5%;">
                </div>
                <div class="w-100 d-flex justify-content-center">
                  <div>
                    <p id="ethPrice" class="mb-0 pt-1">Loading...</p>
                    <p id="totalSupply" class="text-sm mb-0"></p>
                  </div>
                </div>
                
                
              </div>
              
              <section class="tf-section sec">
                <article class="a1 mt-2">
                  <div class="w-100">
                    <ul class="ul">
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/01.png" />
                      </li>
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/02.png" />
                      </li>
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/03.png" />
                      </li>
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/04.png" />
                      </li>
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/34.png" />
                      </li>
                    </ul>
                  </div>
                  <div class="w-100">
                    <ul class="ul">
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/05.png" />
                      </li>
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/06.png" />
                      </li>
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/07.png" />
                      </li>
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/24.png" />
                      </li>
                      <li class="liEx">
                        <img class="w-100 rounded mx-2" src="img/08.png" />
                      </li>
                    </ul>
                  </div>
                </article>
                </section>
<!--                 
              <div class="d-flex">
                <img
                src="img/1wobg.png"
                class="card-img-top w-25"
                alt="NFT Placeholder"
              />
              <img
                src="img/2wobg.png"
                class="card-img-top w-25"
                alt="NFT Placeholder"
              />
              <img
                src="img/3wobg.png"
                class="card-img-top w-25"
                alt="NFT Placeholder"
              />
              <img
                src="img/4wobg.png"
                class="card-img-top w-25"
                alt="NFT Placeholder"
              />  
              </div> -->
              
              <div class="card-body">
                <div class="d-flex">
                  <h5 class="card-title">Mint Price</h5>
                  <a class="h-100" data-bs-custom-class="custom-tooltip" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="You have the flexibility to choose the mint price for your NFTs. You can use the slider below to select a price point you are comfortable paying :)"><img class="info" src="icons/infoIcon.png"></a>
                </div>
                <input
                  type="range"
                  class="form-range"
                  min="0.01"
                  max="0.1"
                  step="0.001"
                  id="mintPrice"
                  value="0.01"
                  oninput="updatePriceLabel(this.value, ethPrice);"
                />
                <label for="mintPrice" id="priceLabel">0.01 ETH</label>
                <!-- <p id="ethPrice">Loading...</p> -->
                <h5 class="card-title mt-4">Number of NFTs</h5>
                <input
                  type="range"
                  class="form-range"
                  min="1"
                  max="25"
                  step="1"
                  id="nftQuantity"
                  value="1"
                  oninput="updateQuantityLabel(this.value, ethPrice); "
                />
                <label for="nftQuantity" id="quantityLabel">1 NFT</label>
                <div class="w-100">
                  <div class="d-flex justify-content-around mt-5">
                    <div class="d-flex w-100 h-100">
                      <p id="" class="pt-2 mb-3">ESTIMATED TOTAL:</p>
                      <a class="h-100" data-bs-custom-class="custom-tooltip" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="This total does not include gas fees"><img class="info pb-0 pt-2" src="icons/infoIcon.png"></a>
                      
                    </div>
                    <p id="totalToPay" class="pt-2 mb-3 text-end"></p>
                  </div>
                  <button onClick="mintNFT()" class="mint-button btn mt-3 p-3 w-100" id="mintButton">
                    Mint Now
                  </button>
                  <crossmint-pay-button
                    id="xmint-btn"
                    class="w-100"
                    clientId="b18c1b28-e200-45c1-9ece-5a5b6d9c56a4"
                    mintConfig='{
                      "type":"wen-mint-erc721a",
                      "quantity":1,
                      "totalPrice":"0.01",
                    }'
                    environment="production"
                  />
                  
                </div>
                
              </div>
            </div>
          </div>
        </div>
      </section>

    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>
    <script src="index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script>
      //GET ETH PRICE
      const ethereumPriceElement = document.getElementById('ethPrice');
      const totalToPay = document.getElementById('totalToPay');

      let ethPrice = 0;
      async function fetchEthereumPrice() {
        try {
          const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=gbp');
          const data = await response.json();
          const ethereumPrice = data.ethereum.gbp;

          let price = document.getElementById("mintPrice").value;
          ethereumPriceElement.textContent = `1 ETH: £${ethereumPrice}`;
          totalToPay.textContent = `0.01 ETH (£${Number(ethereumPrice*0.01).toFixed(2)})`;

          ethPrice = ethereumPrice;
        } catch (error) {
          ethereumPriceElement.textContent = 'Failed to fetch Ethereum price.';
          console.error(error);
        }
      }

      fetchEthereumPrice();

      //TOOLTIP
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    
      //GET SUPPLY NUMBER
      const contractABI = [{"inputs":[{"internalType":"uint256","name":"_startTime","type":"uint256"},{"internalType":"bool","name":"_paused","type":"bool"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ApprovalCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"ApprovalQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"BalanceQueryForZeroAddress","type":"error"},{"inputs":[],"name":"MintERC2309QuantityExceedsLimit","type":"error"},{"inputs":[],"name":"MintToZeroAddress","type":"error"},{"inputs":[],"name":"MintZeroQuantity","type":"error"},{"inputs":[],"name":"OwnerQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"OwnershipNotInitializedForExtraData","type":"error"},{"inputs":[],"name":"TransferCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"TransferFromIncorrectOwner","type":"error"},{"inputs":[],"name":"TransferToNonERC721ReceiverImplementer","type":"error"},{"inputs":[],"name":"TransferToZeroAddress","type":"error"},{"inputs":[],"name":"URIQueryForNonexistentToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toTokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"ConsecutiveTransfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMintPerTx","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"mintPaused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mintRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pauseMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"resumeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxMintPerTx","type":"uint256"}],"name":"setMaxMintPerTx","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newRate","type":"uint256"}],"name":"updateMintRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}];
      const contractAddress = '0x993B1F0DE72A188207D5Cb58e27D6e5050D1AD69'; // Replace with your contract's address

      async function getTotalSupply() {
        // Connect to Ethereum network
        const web3 = new Web3('https://mainnet.infura.io/v3/4daa3d96cf9f44e1b11db916f47b2b88');

        // Load contract
        const contract = new web3.eth.Contract(contractABI, contractAddress);

        // Access totalSupply
        const totalSupply = await contract.methods.totalSupply().call();
        // Find the HTML element to update
        const totalSupplyElement = document.getElementById('totalSupply');
        const progressBar = document.getElementById('progress-supply');


        // Update the HTML element with the value
        totalSupplyElement.textContent = `TOTAL SUPPLY: ${totalSupply}/10,000`;
        progressBar.style.width = `${totalSupply*0.01}%`
      }
      getTotalSupply();

      async function connectMetaMask() {
          if (window.ethereum) {
            window.web3 = new Web3(window.ethereum);
            try {
              // Request account access
              await window.ethereum.request({ method: 'eth_requestAccounts' });

              // Get the connected account
              const accounts = await web3.eth.getAccounts();
              console.log('Connected account:', accounts[0]);

              return true;
            } catch (error) {
              console.error('User denied account access');
              return false;
            }
          } else {
            console.error('No web3 provider detected');
            return false;
          }
        }

        // Mint NFT function
        async function mintNFT() {
          const connected = await connectMetaMask();
          if (!connected) {
            alert("Please connect to MetaMask");
            return;
          }

          const contractAddress = "0x993B1F0DE72A188207D5Cb58e27D6e5050D1AD69";
          const abi = [{"inputs":[{"internalType":"uint256","name":"_startTime","type":"uint256"},{"internalType":"bool","name":"_paused","type":"bool"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ApprovalCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"ApprovalQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"BalanceQueryForZeroAddress","type":"error"},{"inputs":[],"name":"MintERC2309QuantityExceedsLimit","type":"error"},{"inputs":[],"name":"MintToZeroAddress","type":"error"},{"inputs":[],"name":"MintZeroQuantity","type":"error"},{"inputs":[],"name":"OwnerQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"OwnershipNotInitializedForExtraData","type":"error"},{"inputs":[],"name":"TransferCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"TransferFromIncorrectOwner","type":"error"},{"inputs":[],"name":"TransferToNonERC721ReceiverImplementer","type":"error"},{"inputs":[],"name":"TransferToZeroAddress","type":"error"},{"inputs":[],"name":"URIQueryForNonexistentToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toTokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"ConsecutiveTransfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMintPerTx","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"mintPaused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mintRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pauseMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"resumeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxMintPerTx","type":"uint256"}],"name":"setMaxMintPerTx","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newRate","type":"uint256"}],"name":"updateMintRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}];
          const price = document.getElementById("mintPrice").value;
          const quantity = document.getElementById("nftQuantity").value;

          const web3 = window.web3;
          const accounts = await web3.eth.getAccounts();
          const contract = new web3.eth.Contract(abi, contractAddress);

          try {
            const value = web3.utils.toWei(price, "ether");
            await contract.methods
              .mint(quantity)
              .send({ from: accounts[0], value: value * quantity });

            alert("Mint successful!");
          } catch (error) {
            console.error("Mint failed:", error.message);
            alert("Mint failed. Please check the console for more information.");
          }

          // Add event listener to mint button
          document.getElementById("mintButton").addEventListener("click", mintNFT);

        }
    </script>
  </body>
</html>
